class Patch extends CGFobject {
  constructor(scene, npointsU, npointsV, npartsU, npartsV, controlPoints) {
    super(scene);

    let nurbsSurf = new CGFnurbsSurface(
      npointsU - 1, // order
      npointsV - 1, // order
      this.genControlPoints(npointsU, npointsV, controlPoints)
    );

    this.nurbsObj = new CGFnurbsObject(scene, npartsU, npartsV, nurbsSurf);
  }

  genControlPoints(npointsU, npointsV, controlPoints) {
    var parsedPoints = [];

    for (let u = 0; u < npointsU; ++u) {
      parsedPoints[u] = [];
      for (let v = 0; v < npointsV; ++v) {
        parsedPoints[u][v] = [...controlPoints[u * npointsV + v], 1.0];
      }
    }

    console.log(parsedPoints);
    return parsedPoints;
  }

  display() {
    this.nurbsObj.display();
  }

  enableNormalViz() {
    this.nurbsObj.enableNormalViz();
  }

  disableNormalViz() {
    this.nurbsObj.disableNormalViz();
  }
}
